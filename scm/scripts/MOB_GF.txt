:MOB_GF
script_name 'MOB_GF'
set_deatharrest_state 0
set_global_var_bit_const $iAgentFlags bit 11
clear_global_var_bit_const $iAgentFlags bit 10
2@ = Math.RandomIntInRange(0, 8)

:MOB_GF_38
wait 150
ENTEXT_214()
if 
  Player.IsPlaying($player1)
goto_if_false @MOB_GF_1073
if 
  $player_is_completely_safe_for_mobile == 1
goto_if_false @MOB_GF_1050
if 
  is_int_var_greater_than_int_var $timer_mobile_diff > $call_delay
goto_if_false @MOB_GF_1043
if 
  0@ == 0
goto_if_false @MOB_GF_264
if 
  1@ == 1
goto_if_false @MOB_GF_186
$call_number = 70
add_int_lvar_to_int_var $call_number += 2@
if 
  $call_number > 77
goto_if_false @MOB_GF_179
$call_number = 77

:MOB_GF_179
goto @MOB_GF_194

:MOB_GF_186
$call_number = 130

:MOB_GF_194
MOB_GF_1087()
if 
  $flag_player_answered_phone == 1
goto_if_false @MOB_GF_248
set_global_var_bit_const $iAgentFlags bit 10
set_global_var_bit_lvar $iAgentFlags bit 0@
CELLFON_60()
MOB_GF_3328()

:MOB_GF_248
clear_global_var_bit_const $iAgentFlags bit 11
MOB_GF_3168()
terminate_this_script 

:MOB_GF_264
if 
  0@ == 1
goto_if_false @MOB_GF_417
if 
  1@ == 1
goto_if_false @MOB_GF_347
$call_number = 80
add_int_lvar_to_int_var $call_number += 2@
if 
  $call_number > 87
goto_if_false @MOB_GF_340
$call_number = 87

:MOB_GF_340
goto @MOB_GF_355

:MOB_GF_347
$call_number = 131

:MOB_GF_355
MOB_GF_1087()
if 
  $flag_player_answered_phone == 1
goto_if_false @MOB_GF_401
set_global_var_bit_const $iAgentFlags bit 10
CELLFON_60()
MOB_GF_3328()

:MOB_GF_401
clear_global_var_bit_const $iAgentFlags bit 11
MOB_GF_3168()
terminate_this_script 

:MOB_GF_417
if 
  0@ == 2
goto_if_false @MOB_GF_570
if 
  1@ == 1
goto_if_false @MOB_GF_500
$call_number = 90
add_int_lvar_to_int_var $call_number += 2@
if 
  $call_number > 97
goto_if_false @MOB_GF_493
$call_number = 97

:MOB_GF_493
goto @MOB_GF_508

:MOB_GF_500
$call_number = 132

:MOB_GF_508
MOB_GF_1087()
if 
  $flag_player_answered_phone == 1
goto_if_false @MOB_GF_554
set_global_var_bit_const $iAgentFlags bit 10
CELLFON_60()
MOB_GF_3328()

:MOB_GF_554
clear_global_var_bit_const $iAgentFlags bit 11
MOB_GF_3168()
terminate_this_script 

:MOB_GF_570
if 
  0@ == 3
goto_if_false @MOB_GF_730
if 
  1@ == 1
goto_if_false @MOB_GF_653
$call_number = 100
add_int_lvar_to_int_var $call_number += 2@
if 
  $call_number > 107
goto_if_false @MOB_GF_646
$call_number = 107

:MOB_GF_646
goto @MOB_GF_661

:MOB_GF_653
$call_number = 133

:MOB_GF_661
MOB_GF_1087()
if 
  $flag_player_answered_phone == 1
goto_if_false @MOB_GF_714
set_global_var_bit_const $iAgentFlags bit 10
CELLFON_60()
MOB_GF_3328()
set_global_var_bit_const $iAgentFlags bit 10

:MOB_GF_714
clear_global_var_bit_const $iAgentFlags bit 11
MOB_GF_3168()
terminate_this_script 

:MOB_GF_730
if 
  0@ == 4
goto_if_false @MOB_GF_890
if 
  1@ == 1
goto_if_false @MOB_GF_813
$call_number = 110
add_int_lvar_to_int_var $call_number += 2@
if 
  $call_number > 117
goto_if_false @MOB_GF_806
$call_number = 117

:MOB_GF_806
goto @MOB_GF_821

:MOB_GF_813
$call_number = 134

:MOB_GF_821
MOB_GF_1087()
if 
  $flag_player_answered_phone == 1
goto_if_false @MOB_GF_874
set_global_var_bit_const $iAgentFlags bit 10
CELLFON_60()
MOB_GF_3328()
set_global_var_bit_const $iAgentFlags bit 10

:MOB_GF_874
clear_global_var_bit_const $iAgentFlags bit 11
MOB_GF_3168()
terminate_this_script 

:MOB_GF_890
if 
  0@ == 5
goto_if_false @MOB_GF_1043
if 
  1@ == 1
goto_if_false @MOB_GF_973
$call_number = 120
add_int_lvar_to_int_var $call_number += 2@
if 
  $call_number > 127
goto_if_false @MOB_GF_966
$call_number = 127

:MOB_GF_966
goto @MOB_GF_981

:MOB_GF_973
$call_number = 135

:MOB_GF_981
MOB_GF_1087()
if 
  $flag_player_answered_phone == 1
goto_if_false @MOB_GF_1027
set_global_var_bit_const $iAgentFlags bit 10
CELLFON_60()
MOB_GF_3328()

:MOB_GF_1027
clear_global_var_bit_const $iAgentFlags bit 11
MOB_GF_3168()
terminate_this_script 

:MOB_GF_1043
goto @MOB_GF_1066

:MOB_GF_1050
clear_global_var_bit_const $iAgentFlags bit 11
MOB_GF_3168()
terminate_this_script 

:MOB_GF_1066
goto @MOB_GF_1080

:MOB_GF_1073
$flag_cell_nation = 0

:MOB_GF_1080
goto @MOB_GF_38

:MOB_GF_1087
$ring_a_ding_ding = 0
$onmission = 1
$flag_cell_nation = 1
$audio_slot_mobile = 1
Audio.LoadMissionAudio(23000, 3)
$players_skipping_the_call = 0
switch_start $call_number total_jumps 12 default_jump 1 @MOB_GF_1479 jumps 70 @MOB_GF_1263 80 @MOB_GF_1281 90 @MOB_GF_1299 100 @MOB_GF_1317 110 @MOB_GF_1335 120 @MOB_GF_1353 130 @MOB_GF_1371
switch_continued 131 @MOB_GF_1389 132 @MOB_GF_1407 133 @MOB_GF_1425 134 @MOB_GF_1443 135 @MOB_GF_1461 -1 @MOB_GF_1497 -1 @MOB_GF_1497 -1 @MOB_GF_1497 -1 @MOB_GF_1497

:MOB_GF_1263
Text.PrintHelp('ANSWER0')
goto @MOB_GF_1497

:MOB_GF_1281
Text.PrintHelp('ANSWER1')
goto @MOB_GF_1497

:MOB_GF_1299
Text.PrintHelp('ANSWER2')
goto @MOB_GF_1497

:MOB_GF_1317
Text.PrintHelp('ANSWER3')
goto @MOB_GF_1497

:MOB_GF_1335
Text.PrintHelp('ANSWER4')
goto @MOB_GF_1497

:MOB_GF_1353
Text.PrintHelp('ANSWER5')
goto @MOB_GF_1497

:MOB_GF_1371
Text.PrintHelp('ANSWER0')
goto @MOB_GF_1497

:MOB_GF_1389
Text.PrintHelp('ANSWER1')
goto @MOB_GF_1497

:MOB_GF_1407
Text.PrintHelp('ANSWER2')
goto @MOB_GF_1497

:MOB_GF_1425
Text.PrintHelp('ANSWER3')
goto @MOB_GF_1497

:MOB_GF_1443
Text.PrintHelp('ANSWER4')
goto @MOB_GF_1497

:MOB_GF_1461
Text.PrintHelp('ANSWER5')
goto @MOB_GF_1497

:MOB_GF_1479
Text.PrintHelp('ANSWER')
goto @MOB_GF_1497

:MOB_GF_1497
if and
  7 > $ring_a_ding_ding
  2 > $flag_player_answered_phone
goto_if_false @MOB_GF_2068
wait 0
switch_start $call_number total_jumps 12 default_jump 1 @MOB_GF_1876 jumps 70 @MOB_GF_1660 80 @MOB_GF_1678 90 @MOB_GF_1696 100 @MOB_GF_1714 110 @MOB_GF_1732 120 @MOB_GF_1750 130 @MOB_GF_1768
switch_continued 131 @MOB_GF_1786 132 @MOB_GF_1804 133 @MOB_GF_1822 134 @MOB_GF_1840 135 @MOB_GF_1858 -1 @MOB_GF_1894 -1 @MOB_GF_1894 -1 @MOB_GF_1894 -1 @MOB_GF_1894

:MOB_GF_1660
Text.PrintHelpForever('ANSWER0')
goto @MOB_GF_1894

:MOB_GF_1678
Text.PrintHelpForever('ANSWER1')
goto @MOB_GF_1894

:MOB_GF_1696
Text.PrintHelpForever('ANSWER2')
goto @MOB_GF_1894

:MOB_GF_1714
Text.PrintHelpForever('ANSWER3')
goto @MOB_GF_1894

:MOB_GF_1732
Text.PrintHelpForever('ANSWER4')
goto @MOB_GF_1894

:MOB_GF_1750
Text.PrintHelpForever('ANSWER5')
goto @MOB_GF_1894

:MOB_GF_1768
Text.PrintHelpForever('ANSWER0')
goto @MOB_GF_1894

:MOB_GF_1786
Text.PrintHelpForever('ANSWER1')
goto @MOB_GF_1894

:MOB_GF_1804
Text.PrintHelpForever('ANSWER2')
goto @MOB_GF_1894

:MOB_GF_1822
Text.PrintHelpForever('ANSWER3')
goto @MOB_GF_1894

:MOB_GF_1840
Text.PrintHelpForever('ANSWER4')
goto @MOB_GF_1894

:MOB_GF_1858
Text.PrintHelpForever('ANSWER5')
goto @MOB_GF_1894

:MOB_GF_1876
Text.PrintHelpForever('ANSWER')
goto @MOB_GF_1894

:MOB_GF_1894
$audio_slot_mobile = 3
MOB_GF_2311()
$ring_a_ding_ding += 1
if and
  $flag_player_answered_phone == 1
  $ring_a_ding_ding > 0
goto_if_false @MOB_GF_1947
goto @MOB_GF_2075

:MOB_GF_1947
MOB_GF_2625()
if and
  $flag_player_answered_phone == 1
  $ring_a_ding_ding > 0
goto_if_false @MOB_GF_1986
goto @MOB_GF_2075

:MOB_GF_1986
$mobile_pause = 0

:MOB_GF_1993
if 
  40 > $mobile_pause
goto_if_false @MOB_GF_2061
wait 0
MOB_GF_2902()
if 
  $flag_player_answered_phone == 1
goto_if_false @MOB_GF_2047
goto @MOB_GF_2075

:MOB_GF_2047
$mobile_pause += 1
goto @MOB_GF_1993

:MOB_GF_2061
goto @MOB_GF_1497

:MOB_GF_2068
$timer_mobile_start = Clock.GetGameTimer()
return 

:MOB_GF_2075
$players_skipping_the_call = 1
$timer_mobile_start = Clock.GetGameTimer()

:MOB_GF_2087
if 
  Pad.IsButtonPressed(PadId.Pad1, Button.LeftShoulder1)
goto_if_false @MOB_GF_2140
wait 0
if 
  not Player.IsPlaying($player1)
goto_if_false @MOB_GF_2133
$flag_player_answered_phone = 2
return 

:MOB_GF_2133
goto @MOB_GF_2087

:MOB_GF_2140
Text.ClearHelp
Audio.ClearMissionAudio(MissionAudioSlot.Slot1)
if 
  Player.IsPlaying($player1)
goto_if_false @MOB_GF_2309
Game.SetEveryoneIgnorePlayer($player1, True)
Char.ShutUp($scplayer, True)
Streaming.RequestModel(330)

:MOB_GF_2181
if 
  not Streaming.HasModelLoaded(330)
goto_if_false @MOB_GF_2208
wait 0
goto @MOB_GF_2181

:MOB_GF_2208
MOB_GF_2902()
if 
  $flag_player_answered_phone == 2
goto_if_false @MOB_GF_2240
Streaming.MarkModelAsNoLongerNeeded(330)
return 

:MOB_GF_2240
Task.UseMobilePhone($scplayer, True)
TIMERA = 0

:MOB_GF_2254
if 
  2000 > TIMERA
goto_if_false @MOB_GF_2309
wait 0
if 
  not Player.IsPlaying($player1)
goto_if_false @MOB_GF_2302
$flag_player_answered_phone = 2
return 

:MOB_GF_2302
goto @MOB_GF_2254

:MOB_GF_2309
return 

:MOB_GF_2311
if 
  not Audio.HasMissionAudioLoaded($audio_slot_mobile)
goto_if_false @MOB_GF_2602
wait 0
if 
  not Player.IsPlaying($player1)
goto_if_false @MOB_GF_2363
$flag_player_answered_phone = 2
return 
goto @MOB_GF_2595

:MOB_GF_2363
if or
  Char.IsInWater($scplayer)
  Char.IsShooting($scplayer)
  not Char.IsOnFoot($scplayer)
  $onmission == 0
  $main_visible_area <> 0
  $player_fall_state <> 0
goto_if_false @MOB_GF_2421
$flag_player_answered_phone = 2
Text.ClearHelp
return 

:MOB_GF_2421
if or
  Game.IsGangWarFightingGoingOn
  Player.IsUsingJetpack($player1)
  Game.IsMinigameInProgress
goto_if_false @MOB_GF_2452
$flag_player_answered_phone = 2
Text.ClearHelp
return 

:MOB_GF_2452
if and
  $flag_player_answered_phone == 0
  $ring_a_ding_ding > 0
goto_if_false @MOB_GF_2524
if 
  not Char.IsShooting($scplayer)
goto_if_false @MOB_GF_2524
if and
  Pad.IsButtonPressed(PadId.Pad1, Button.LeftShoulder1)
  Player.CanStartMission($player1)
goto_if_false @MOB_GF_2524
$flag_player_answered_phone = 1
return 

:MOB_GF_2524
if 
  $players_skipping_the_call == 1
goto_if_false @MOB_GF_2568
if 
  Pad.IsButtonPressed(PadId.Pad1, Button.Triangle)
goto_if_false @MOB_GF_2568
$players_skipping_the_call = 2
return 

:MOB_GF_2568
if 
  $onmission == 0
goto_if_false @MOB_GF_2595
$flag_player_answered_phone = 2
return 

:MOB_GF_2595
goto @MOB_GF_2311

:MOB_GF_2602
if 
  not Char.IsInWater($scplayer)
goto_if_false @MOB_GF_2623
Audio.PlayMissionAudio($audio_slot_mobile)

:MOB_GF_2623
return 

:MOB_GF_2625
if 
  not Audio.HasMissionAudioFinished($audio_slot_mobile)
goto_if_false @MOB_GF_2900
wait 0
if 
  not Player.IsPlaying($player1)
goto_if_false @MOB_GF_2677
$flag_player_answered_phone = 2
return 
goto @MOB_GF_2893

:MOB_GF_2677
if or
  Char.IsInWater($scplayer)
  Char.IsShooting($scplayer)
  not Char.IsOnFoot($scplayer)
  $onmission == 0
  $main_visible_area <> 0
  $player_fall_state <> 0
goto_if_false @MOB_GF_2735
$flag_player_answered_phone = 2
Text.ClearHelp
return 

:MOB_GF_2735
if or
  Game.IsGangWarFightingGoingOn
  Player.IsUsingJetpack($player1)
  Game.IsMinigameInProgress
goto_if_false @MOB_GF_2766
$flag_player_answered_phone = 2
Text.ClearHelp
return 

:MOB_GF_2766
if and
  $flag_player_answered_phone == 0
  $ring_a_ding_ding > 0
goto_if_false @MOB_GF_2822
if and
  Pad.IsButtonPressed(PadId.Pad1, Button.LeftShoulder1)
  Player.CanStartMission($player1)
goto_if_false @MOB_GF_2822
$flag_player_answered_phone = 1
return 

:MOB_GF_2822
if 
  $players_skipping_the_call == 1
goto_if_false @MOB_GF_2866
if 
  Pad.IsButtonPressed(PadId.Pad1, Button.Triangle)
goto_if_false @MOB_GF_2866
$players_skipping_the_call = 2
return 

:MOB_GF_2866
if 
  $onmission == 0
goto_if_false @MOB_GF_2893
$flag_player_answered_phone = 2
return 

:MOB_GF_2893
goto @MOB_GF_2625

:MOB_GF_2900
return 

:MOB_GF_2902
if 
  not Player.IsPlaying($player1)
goto_if_false @MOB_GF_2934
$flag_player_answered_phone = 2
return 
goto @MOB_GF_3166

:MOB_GF_2934
if or
  Char.IsInWater($scplayer)
  Char.IsShooting($scplayer)
  not Char.IsOnFoot($scplayer)
  $onmission == 0
  $main_visible_area <> 0
  $player_fall_state <> 0
goto_if_false @MOB_GF_2992
$flag_player_answered_phone = 2
Text.ClearHelp
return 

:MOB_GF_2992
if or
  Game.IsGangWarFightingGoingOn
  Player.IsUsingJetpack($player1)
  Game.IsMinigameInProgress
goto_if_false @MOB_GF_3023
$flag_player_answered_phone = 2
Text.ClearHelp
return 

:MOB_GF_3023
if and
  $flag_player_answered_phone == 0
  $ring_a_ding_ding > 0
goto_if_false @MOB_GF_3095
if 
  not Char.IsShooting($scplayer)
goto_if_false @MOB_GF_3095
if and
  Pad.IsButtonPressed(PadId.Pad1, Button.LeftShoulder1)
  Player.CanStartMission($player1)
goto_if_false @MOB_GF_3095
$flag_player_answered_phone = 1
return 

:MOB_GF_3095
if 
  $players_skipping_the_call == 1
goto_if_false @MOB_GF_3139
if 
  Pad.IsButtonPressed(PadId.Pad1, Button.Triangle)
goto_if_false @MOB_GF_3139
$players_skipping_the_call = 2
return 

:MOB_GF_3139
if 
  $onmission == 0
goto_if_false @MOB_GF_3166
$flag_player_answered_phone = 2
return 

:MOB_GF_3166
return 

:MOB_GF_3168
$flag_cell_nation = 0
Audio.ClearMissionAudio(MissionAudioSlot.Slot1)
Audio.ClearMissionAudio(MissionAudioSlot.Slot2)
Audio.ClearMissionAudio(MissionAudioSlot.Slot3)
$flag_player_answered_phone = 0
$flag_mobile_timer = 0
if 
  Player.IsPlaying($player1)
goto_if_false @MOB_GF_3245
Task.UseMobilePhone($scplayer, False)
Player.SetControl($player1, True)
Game.SetEveryoneIgnorePlayer($player1, False)
Char.ShutUp($scplayer, False)

:MOB_GF_3245
$timer_mobile_start = Clock.GetGameTimer()
$timer_mobile_diff = 0
$timer_mobile_now = Clock.GetGameTimer()
set_var_int_to_var_int $timer_mobile_diff = $timer_mobile_now
sub_int_var_from_int_var $timer_mobile_diff -= $timer_mobile_start
Text.ClearPrints
if 
  $flag_new_cont == 0
goto_if_false @MOB_GF_3307
Text.ClearHelp
goto @MOB_GF_3314

:MOB_GF_3307
$flag_new_cont = 0

:MOB_GF_3314
Streaming.MarkModelAsNoLongerNeeded(330)
$onmission = 0
return 

:MOB_GF_3328
$cell_index_start = 0

:MOB_GF_3335
Audio.LoadMissionAudio($mobile_audio_labels($cell_index_start,20i), 1)
$cell_index_start += 1
if 
  is_int_var_greater_or_equal_to_int_var $cell_index_end >= $cell_index_start
goto_if_false @MOB_GF_3383
Audio.LoadMissionAudio($mobile_audio_labels($cell_index_start,20i), 2)

:MOB_GF_3383
$cell_index_start -= 1
$audio_slot_mobile = 1
MOB_GF_2311()
Text.PrintNow($mobile_print_labels($cell_index_start,20s), 10000, 1)
MOB_GF_2625()
if 
  $players_skipping_the_call == 2
goto_if_false @MOB_GF_3445
return 

:MOB_GF_3445
$cell_index_start += 1
if 
  is_int_var_greater_or_equal_to_int_var $cell_index_end >= $cell_index_start
goto_if_false @MOB_GF_3513
$audio_slot_mobile = 2
MOB_GF_2311()
Text.PrintNow($mobile_print_labels($cell_index_start,20s), 10000, 1)
MOB_GF_2625()
goto @MOB_GF_3520

:MOB_GF_3513
$cell_index_start -= 1

:MOB_GF_3520
if 
  $players_skipping_the_call == 2
goto_if_false @MOB_GF_3540
return 

:MOB_GF_3540
$cell_index_start += 1
if 
  $skip_the_mobile_call == 0
goto_if_false @MOB_GF_3583
Text.PrintHelp('CELSKIP')
$skip_the_mobile_call = 1

:MOB_GF_3583
if 
  is_int_var_greater_or_equal_to_int_var $cell_index_end >= $cell_index_start
goto_if_false @MOB_GF_3609
goto @MOB_GF_3335

:MOB_GF_3609
Text.ClearPrints
return 

